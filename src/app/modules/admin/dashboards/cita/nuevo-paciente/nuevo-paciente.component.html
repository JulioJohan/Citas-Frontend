<app-migajaspan class="flex justify-start "></app-migajaspan>

<mat-dialog-content>
<div class="flex flex-col flex-auto ">
    <div class="md:p-8">
      <div class="w-full">
        <fuse-alert
      class="mt-8"
      *ngIf="mostrarAlerta"
      [appearance]="'outline'"
      [showIcon]="true"
      [type]="alert.type"
      [@shake]="alert.type === 'error'"
      >
      {{alert.message}}
    </fuse-alert>
        <form
        class="mt-8"
        [formGroup]="formularioRegistro"
        #signUpNgForm="ngForm">

        <!-- Name field -->
        <mat-form-field class="w-full">
            <mat-label>Nombre Completo</mat-label>
            <input
                lettersOnly
                maxlength="50"
                id="name"
                matInput
                [formControlName]="'name'">
            <mat-error *ngIf="formularioRegistro.get('name').hasError('required')">
               El nombre completo es requerido
            </mat-error>
            <mat-error *ngIf="formularioRegistro.get('name').hasError('minlength')">
                El nombre completo debe ser valido
             </mat-error>
        </mat-form-field>

        <!-- FatherLastname field -->
        <mat-form-field class="w-full">
            <mat-label>Apellido Paterno</mat-label>
            <input
                lettersOnly
                maxlength="50"
                id="fatherLastname"
                matInput
                [formControlName]="'fatherLastname'">
            <mat-error *ngIf="formularioRegistro.get('fatherLastname').hasError('required')">
                El Apellido Paterno es requerido 
            </mat-error>       
            <mat-error *ngIf="formularioRegistro.get('fatherLastname').hasError('minlength')">
                El Apellido Paterno no es valido 
            </mat-error>           
        </mat-form-field>

        <mat-form-field class="w-full">
            <mat-label>Apellido Materno</mat-label>
            <input
                lettersOnly
                maxlength="50"
                id="motherLastname"
                matInput
                [formControlName]="'motherLastname'">
            <mat-error *ngIf="formularioRegistro.get('motherLastname').hasError('required')">
                El Apellido Materno es requerido 
            </mat-error>    
            <mat-error *ngIf="formularioRegistro.get('motherLastname').hasError('minlength')">
                El Apellido Paterno no es valido 
            </mat-error>          
        </mat-form-field>           

        <mat-form-field class="w-full">
            <mat-label>Número de telefono</mat-label>
            <input
                id="telephone"
                matInput
                [formControlName]="'telephone'" numbersOnly maxlength="10">
            <mat-error *ngIf="formularioRegistro.get('telephone').hasError('required')">
                El número de telefono es requerido 
            </mat-error>  
            <mat-error *ngIf="formularioRegistro.get('telephone').hasError('minlength')">
               El número de telefono no es valido
            </mat-error>             
        </mat-form-field>
        
        <mat-form-field class="w-full">
            <mat-label>Curp</mat-label>
            <input
                id="curp"
                maxlength="18"
                matInput
                [formControlName]="'curp'">
            <mat-error *ngIf="formularioRegistro.get('curp').hasError('required')">
                La CURP es requeria
            </mat-error>
            <mat-error *ngIf="formularioRegistro.get('curp').hasError('minlength')">
                La CURP no es valida
            </mat-error>               
        </mat-form-field>

      
        

        <!-- ToS and PP -->
        <!-- <div class="inline-flex items-end w-full mt-1.5">
            <mat-checkbox
                class="-ml-2"
                [color]="'primary'"
                [formControlName]="'agreements'">
                <span>I agree with</span>
                <a
                    class="ml-1 text-primary-500 hover:underline"
                    [routerLink]="['./']">Terms
                </a>
                <span>and</span>
                <a
                    class="ml-1 text-primary-500 hover:underline"
                    [routerLink]="['./']">Privacy Policy
                </a>
            </mat-checkbox>
        </div> -->

        <!-- Submit button -->
        <button
            class="fuse-mat-button-large w-full mt-6"
            mat-flat-button
            [color]="'primary'"
            [disabled]="formularioRegistro.invalid"
            (click)="guardarPaciente()">
            <span >
                Crear Cuenta
            </span>
            <mat-progress-spinner
                *ngIf="formularioRegistro.disabled"
                [diameter]="24"
                [mode]="'indeterminate'"></mat-progress-spinner>
        </button>


        <button
            class="fuse-mat-button-large w-full mt-6 bg-red-600"
            mat-flat-button            
            (click)="cerrar()"
            >
            <span class="text-white">
                Cerrar
            </span>
            <mat-progress-spinner
                *ngIf="formularioRegistro.disabled"
                [diameter]="24"
                [mode]="'indeterminate'"></mat-progress-spinner>
        </button>

    </form>
    </div>
    </div>
</div>
</mat-dialog-content>


